<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>SMNSH</title>
	
	<!-- BOOTSTRAP -->
	<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
	
	<!-- CSS -->
	<link th:href="@{/css/style.css}" rel="stylesheet" />
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<body>

	<div th:replace="./smnsh2/header" :: header class="sensit-header"></div>
	
	<div class="container-fluid" style="min-height:250px">
	
		<!-- TODO 2023-06-17 sort columns -->
		<table class="table table-hover">
		  <thead>
		  	<tr>
			  	<th colspan="10">
			  		<td>
			  			<a class="btn btn-sm sensit-btn btn-height btn-outline-success" th:href="@{/smnsh2/projects/edit?projectId={projectId}&userNameBySpringSecurity={userNameBySpringSecurity}(userNameBySpringSecurity=${#authentication.name},projectId=0)}">
			  				<p class="sensit-langPl">NOWY PROJEKT</p>
			  				<p class="sensit-langEn">new project</p>
			  			</a>
			  		</td>
			  	</th>
		  	</tr>
		    <tr>
		      	<th scope="col" style="width:5%">
		      		<p class="sensit-langPl">ID</p>
		      		<p class="sensit-langEn">id</p>
	      		</th>
		      <th scope="col">
	      		<div class="d-inline-block">
					<p class="sensit-langPl">Kod projektu</p>
			      	<p class="sensit-langEn">project code</p>
	      		</div>
		      	<a class="sensit-btn-sort d-inline" th:href="@{__${#httpServletRequest.requestURI}__?sort=byCodeAsc}">
					<span class="material-symbols-outlined">
					arrow_drop_up
					</span>
	      		</a>
		      	<a class="sensit-btn-sort d-inline" th:href="@{__${#httpServletRequest.requestURI}__?sort=byCodeDes}">
					<span class="material-symbols-outlined">
					arrow_drop_down
					</span>
	      		</a>
		      <th scope="col">
		      	<p class="sensit-langPl">Nazwa projektu</p>
		      	<p class="sensit-langEn">project name</p>
	      		</th>
		      <th scope="col">
		      	<p class="sensit-langPl">Inwestor</p>
		      	<p class="sensit-langEn">investor</p>
		      	</th>
		      <th scope="col">
		      	<p class="sensit-langPl">Nr umowy</p>
		      	<p class="sensit-langEn">contract no.</p>
		      	</th>
		      <th scope="col">
		      	<p class="sensit-langPl">Aparat</p>
		      	<p class="sensit-langEn">device
		      	</th>
		      <th scope="col">
		      	<p class="sensit-langPl">Handlowiec</p>
		      	<p class="sensit-langEn">sales rep.</p>
		      	</th>
		      <th scope="col">
		      	<p class="sensit-langPl">Kierownik projektu</p>
		      	<p class="sensit-langEn">project manager</p>
		      	</th>
		      <th scope="col">
    	      	<div class="d-inline-block">
			      	<p class="sensit-langPl">Termin realizacji</p>
			      	<p class="sensit-langEn">deadline</p>
		      	</div>
		      	<a class="sensit-btn-sort d-inline" th:href="@{__${#httpServletRequest.requestURI}__?sort=deadlineAsc}">
					<span class="material-symbols-outlined">
					arrow_drop_up
					</span>
	      		</a>
		      	<a class="sensit-btn-sort d-inline" th:href="@{__${#httpServletRequest.requestURI}__?sort=deadlineDes}">
					<span class="material-symbols-outlined">
					arrow_drop_down
					</span>
	      		</a>
		      	</th>
		      <th scope="col">
					<p class="sensit-langPl">Status</p>
					<p class="sensit-langEn">Status</p>
		      </th>
		      <th scope="col">
		      	<p class="sensit-langPl">...</p>
		      	<p class="sensit-langEn">...</p>
		      	</th>
		    </tr>
		  </thead>
		  <tbody>
		    <tr th:each="project: ${projectList}">
		      <th scope="row" th:text="${project.id}"/>
		      <td th:text="${project.code}"></td>
		      <td th:text="${project.name}"></td>
		      
		      <td th:text="${project.investor.name}"></td>
		      <td th:text="${project.contractNo}"></td>
		      <td th:text="${project.devicePortfolio.modality} + ' ' + ${project.devicePortfolio.modelName}"></td>
		      <td th:text="${project.salesRep.nameFirst} + ' ' + ${project.salesRep.nameLast}"></td>
		      <td th:text="${project?.projectManager?.nameFirst} + ' ' + ${project?.projectManager?.nameLast}"></td>
		      <td th:text="${project.deadline}"></td>
		      <td>
		      	<p th:text="${project.status.namePl}" class="sensit-langPl"></p>
		      	<p th:text="${project.status.nameEn}" class="sensit-langEn"></p>		      
		      </td>
		      <td>
		      	<a th:href="@{'/smnsh2/projects/'+${project.id}}" class="btn btn-outline-secondary">
		      		<p class="sensit-langPl">Szczegóły</p>
		      		<p class="sensit-langEn">details</p>
		      	</a>
		      </td>
		    </tr>
		  </tbody>
		  <tfoot>
		  	<tr>
			  	<th colspan="10">
			  		<td>
			  			<a class="btn btn-sm sensit-btn btn-height btn-outline-success" th:href="@{/smnsh2/projects/edit?projectId={projectId}&userNameBySpringSecurity={userNameBySpringSecurity}(userNameBySpringSecurity=${#authentication.name},projectId=0)}">
			  				<p class="sensit-langPl">NOWY PROJEKT</p>
			  				<p class="sensit-langEn">new project</p>
			  			</a>
			  		</td>
			  	</th>
		  	</tr>
		  </tfoot>
		</table>
		
	</div>
	
	<div th:replace="./smnsh2/footer" :: footer class="sensit-footer"></div>
	
</body>
</html>